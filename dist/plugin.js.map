{"version":3,"file":"plugin.js","sources":["esm/controller.js","esm/definitions.js","esm/web.js","esm/index.js"],"sourcesContent":["import { Capacitor, Plugins } from '@capacitor/core';\nclass SafeAreaController {\n    constructor() {\n        this.insets = {\n            top: 0,\n            bottom: 0,\n            right: 0,\n            left: 0\n        };\n        this.callback = undefined;\n        this.listeners = [];\n    }\n    load() {\n        this.callback?.remove();\n        this.callback = Plugins.SafeAreaPlugin.addListener(\"safeAreaPluginsInsetChange\", (insets) => {\n            this.updateInsets(insets);\n            this.injectCSSVariables();\n            this.notifyListeners();\n        });\n        this.refresh();\n    }\n    addListener(listener) {\n        this.listeners.push(listener);\n    }\n    removeListener(listener) {\n        const index = this.listeners.indexOf(listener);\n        if (index >= 0)\n            delete this.listeners[index];\n    }\n    removeAllListeners() {\n        this.listeners.length = 0;\n    }\n    injectCSSVariables() {\n        for (const inset in this.insets) {\n            switch (Capacitor.getPlatform()) {\n                case \"android\":\n                case \"ios\":\n                    {\n                        document.documentElement.style.setProperty(`--${Capacitor.getPlatform()}-safe-area-inset-${inset}`, `${this.insets[inset]}px`);\n                        document.documentElement.style.setProperty(`--safe-area-inset-${inset}`, `var(--${Capacitor.getPlatform()}-safe-area-inset-${inset}, env(safe-area-inset-${inset}))`);\n                    }\n                    break;\n                default:\n                    {\n                        document.documentElement.style.setProperty(`--safe-area-inset-${inset}`, \"0px\");\n                    }\n                    break;\n            }\n        }\n    }\n    async refresh() {\n        const { insets } = await Plugins.SafeAreaPlugin.getSafeAreaInsets();\n        this.updateInsets(insets);\n        this.injectCSSVariables();\n        this.notifyListeners();\n    }\n    getInsets() {\n        return this.insets;\n    }\n    unload() {\n        this.callback?.remove();\n    }\n    notifyListeners() {\n        this.listeners.forEach((listener) => listener(this.insets));\n    }\n    updateInsets(insets) {\n        this.insets = insets;\n    }\n}\n;\nexport default SafeAreaController;\n//# sourceMappingURL=controller.js.map",";\nexport const SafeAreaInsetsChangeEventName = \"safeAreaPluginsInsetChange\";\n//# sourceMappingURL=definitions.js.map","import { WebPlugin, registerPlugin } from '@capacitor/core';\nimport { SafeAreaInsetsChangeEventName } from './definitions';\nexport class SafeAreaPluginWeb extends WebPlugin {\n    constructor() {\n        super({\n            name: 'SafeAreaPlugin',\n            platforms: ['web'],\n        });\n    }\n    /**\n     * Call this whenever you want the EventOnInsetsChanged to be fired manually.\n     */\n    async refresh() {\n        const dummy = {\n            top: 0,\n            bottom: 0,\n            right: 0,\n            left: 0\n        };\n        this.notifyListeners(SafeAreaInsetsChangeEventName, {\n            insets: dummy\n        });\n    }\n    /**\n     * Gets the current SafeAreaInsets.\n     */\n    getSafeAreaInsets() {\n        const dummy = {\n            top: 0,\n            bottom: 0,\n            right: 0,\n            left: 0,\n        };\n        return new Promise((resolve) => {\n            resolve({ insets: dummy });\n        });\n    }\n}\nconst SafeAreaPlugin = registerPlugin('SafeAreaPlugin', {\n    web: () => import('./web').then(m => new m.SafeAreaPluginWeb()),\n});\nexport * from './definitions';\nexport { SafeAreaPlugin };\n//# sourceMappingURL=web.js.map","import SafeAreaController from './controller';\nexport * from './definitions';\nexport * from './web';\nconst controller = new SafeAreaController();\nexport { controller as SafeAreaController };\n//# sourceMappingURL=index.js.map"],"names":["Plugins","Capacitor","WebPlugin","registerPlugin"],"mappings":"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"}